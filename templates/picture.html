<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>‚ú® Anime Cartoonizer - Nam-blogee</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    min-height: 100vh;
    background: #f0f4f8;
    color: #333;
  }

  .sidebar {
    width: 220px;
    background-color: #1a4e8a;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 20px 0;
    position: fixed;
    height: 100vh;
  }
  .sidebar-top {
    display: flex;
    flex-direction: column;
  }
  .sidebar h2 {
    text-align: center;
    margin-bottom: 30px;
    font-weight: 700;
    font-size: 22px;
  }
  .sidebar a {
    color: white;
    text-decoration: none;
    padding: 12px 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: background 0.2s;
    font-size: 16px;
  }
  .sidebar a:hover {
    background-color: #3a78c2;
  }
  .main {
    margin-left: 220px;
    flex: 1;
    padding: 40px 30px;
    overflow-y: auto;
  }
  .container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
  }
  h1 {
    margin-bottom: 15px;
    color: #1a4e8a;
    font-size: 28px;
  }
  p {
    color: #555;
    margin-bottom: 20px;
  }

  #dropzone {
    border: 2px dashed #1a4e8a;
    border-radius: 12px;
    padding: 25px;
    text-align: center;
    cursor: pointer;
    transition: background 0.2s, border-color 0.2s;
    margin-bottom: 20px;
  }
  #dropzone:hover { background: #eaf2fb; border-color: #3a78c2; }
  #dropzone p {
    font-size: 16px;
    color: #1a4e8a;
  }
  #dropzone button {
    background-color: #1a4e8a;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 6px 14px;
    cursor: pointer;
    font-weight: 600;
  }
  #dropzone button:hover { background-color: #3a78c2; }
  select, button {
    font-family: inherit;
    font-size: 15px;
  }
  #model {
    padding: 6px 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    margin-left: 8px;
  }
  #actions {
    margin-top: 15px;
  }
  #convertBtn {
    background-color: #1a4e8a;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 8px 16px;
    cursor: pointer;
    font-weight: 600;
    margin-right: 10px;
  }
  #convertBtn:hover { background-color: #3a78c2; }
  .hidden { display: none; }
  img {
    max-width: 100%;
    border-radius: 12px;
    margin-top: 15px;
  }
  a#downloadLink {
    display: inline-block;
    margin-top: 10px;
    padding: 8px 14px;
    background: #1a4e8a;
    color: white;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
  }
  a#downloadLink:hover { background: #3a78c2; }
  footer {
    margin-top: 25px;
    font-size: 13px;
    color: #777;
    text-align: center;
  }
  @media(max-width: 768px) {
    body { flex-direction: column; }
    .sidebar { width: 100%; flex-direction: row; justify-content: space-around; height: auto; padding: 10px 0; position: relative; }
    .main { margin-left: 0; padding: 20px; }
    .sidebar a { padding: 8px 10px; font-size: 14px; }
  }
</style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-top">
        <h2>Nam-blogee</h2>
        <a href="/index"><i class="fas fa-blog"></i> Blog</a>
        <a href="/cartoonize"><i class="fas fa-image"></i> T·∫°o ·∫£nh</a>
        <a href="{{ url_for('account', user_id=session['user_id']) }}"><i class="fas fa-user"></i> Trang c√° nh√¢n</a>
        <a href="/logout"><i class="fas fa-sign-out-alt"></i> ƒêƒÉng xu·∫•t</a>
    </div>
  </div>

  <div class="main">
    <div class="container">
      <h1>‚ú® Anime Cartoonizer</h1>
      <p>Upload ·∫£nh c·ªßa b·∫°n ƒë·ªÉ bi·∫øn th√†nh phong c√°ch anime</p>

      <div id="dropzone">
        <input id="fileInput" type="file" accept="image/*" hidden />
        <p>K√©o & th·∫£ ·∫£nh ho·∫∑c <button id="pickBtn" type="button">Ch·ªçn ·∫£nh</button></p>
      </div>

      <label>Model:
        <select id="model">
          <option value="hayao" selected>Hayao (Ghibli)</option>
          <option value="shinkai">Shinkai</option>
          <option value="paprika">Paprika</option>
          <option value="portrait">Portrait (Gen 3)</option>
        </select>
      </label>

      <div id="actions" class="hidden">
        <button id="convertBtn">üöÄ Cartoonize</button>
        <span id="status"></span>
      </div>

      <div id="preview" class="preview hidden">
        <h3>·∫¢nh g·ªëc</h3>
        <img id="srcImg" alt="preview" />
      </div>

      <div id="result" class="result hidden">
        <h3>K·∫øt qu·∫£</h3>
        <img id="outImg" alt="result" />
        <a id="downloadLink" download="cartoon.png">‚¨á T·∫£i ·∫£nh</a>
        <div id="shareBox" class="hidden">
          <textarea id="shareContent" placeholder="Vi·∫øt v√†i d√≤ng c·∫£m nghƒ©..." rows="3" style="width:100%; margin-top:10px; border-radius:8px; padding:8px;"></textarea>
          <button id="shareBtn" type="button" style="margin-top:5px;">üì¢ Chia s·∫ª l√™n Blog</button>
        </div>
      </div>

      <footer>
        <small>·∫¢nh ƒë∆∞·ª£c resize t·ªëi ƒëa 720px, b·ªôi s·ªë c·ªßa 8.</small>
      </footer>
    </div>
  </div>

<script src="/static/script.js"></script>
</body>
</html>
